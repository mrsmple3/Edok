<template>
  <Dialog v-model:open="isDialogOpen">
    <DialogTrigger>
      –°–∫–∞—á–∞—Ç–∏
    </DialogTrigger>
    <DialogContent class="dialog-content">
      <DialogHeader>
        <DialogTitle>–î–æ–∫—É–º–µ–Ω—Ç—ã </DialogTitle>
        <DialogDescription>
          –§–∞–π–ª–∏ –¥–ª—è —Å–∫–∞—á—É–≤–∞–Ω–Ω—è
        </DialogDescription>
        <div class="download-links-container">
          <a v-if="props.invoice.filePath" :href="props.invoice.filePath" class="underline text-blue-600" download>
            üìÑ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç
          </a>
          <a v-if="props.invoice.Signature.length !== 0" :href="`/api/download/archive/${Number(props.invoice.id)}`"
            class="underline text-blue-600" download>
            üì¶ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ ZIP-–∞—Ä—Ö—ñ–≤ —ñ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
          </a>
        </div>
      </DialogHeader>
    </DialogContent>
  </Dialog>
</template>

<script setup lang="ts">
const props = defineProps({
  invoice: {
    type: Object,
    required: true,
  },
});
const isDialogOpen = ref(false);
</script>

<style scoped lang="scss">
.dialog-content {
  max-width: 80vw !important;
  width: 80vw !important;
  height: 75vh;
}

.download-links-container {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: size(8px);
  margin-top: size(16px);
}
</style>
